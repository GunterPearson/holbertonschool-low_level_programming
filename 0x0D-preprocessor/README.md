Using preprocessor more in depth.